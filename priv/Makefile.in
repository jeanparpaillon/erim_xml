top_srcdir = @top_srcdir@
srcdir = $(top_srcdir)/src
includedir = $(top_srcdir)/include
privdir = $(top_srcdir)/priv

constfiles = \
	$(srcdir)/erim_known_attrs.erl \
	$(srcdir)/erim_known_elems.erl \
	$(srcdir)/erim_known_nss.erl \
	$(includedir)/internal/erim_known_attrs.hrl \
	$(includedir)/internal/erim_known_elems.hrl \
	$(includedir)/internal/erim_known_nss.hrl

CLEANFILES = $(constfiles)

build=$(privdir)/erim_known.es

all: $(constfiles)

$(srcdir)/erim_known_%.erl: erim_known_%.in $(build)
	@mkdir -p $(@D)
	$(build) $* erl $< > $@

$(includedir)/internal/erim_known_%.hrl: erim_known_%.in $(build)
	@mkdir -p $(@D)
	$(build) $* hrl $< > $@

distclean:
	-rm -f $(CLEANFILES)

.PHONY: all distclean
