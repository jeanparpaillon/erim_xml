top_srcdir=@top_srcdir@
srcdir=@srcdir@

constfiles = \
	$(top_srcdir)/src/erim_known_attrs.erl \
	$(top_srcdir)/src/erim_known_elems.erl \
	$(top_srcdir)/src/erim_known_nss.erl \
	$(top_srcdir)/include/internal/erim_known_attrs.hrl \
	$(top_srcdir)/include/internal/erim_known_elems.hrl \
	$(top_srcdir)/include/internal/erim_known_nss.hrl

CLEANFILES = $(constfiles)

build=$(srcdir)/erim_known.es

all: $(constfiles)

$(top_srcdir)/src/erim_known_%.erl: erim_known_%.in $(build)
	@mkdir -p $(@D)
	$(build) $* erl $< > $@

$(top_srcdir)/include/internal/erim_known_%.hrl: erim_known_%.in $(build)
	@mkdir -p $(@D)
	$(build) $* hrl $< > $@

clean:
	-rm -f $(CLEANFILES)

.PHONY: all clean
